import array_keys from 'locutus/php/array/array_keys';
import array_values from 'locutus/php/array/array_values';
import str_replace from 'locutus/php/strings/str_replace';
import removeDiacritics from './function/removeDiacritics';

// Global var
let strSlugResult = '';

// ===================================
// Get slug DE,US,VN
// ===================================
// prettier-ignore
let arrCharFrom = [
  'ạ', 'á', 'à', 'ả', 'ã', 'Ạ', 'Á', 'À', 'Ả', 'Ã', 'â', 'ậ', 'ấ', 'ầ', 'ẩ', 'ẫ', 'Â', 'Ậ', 'Ấ', 'Ầ', 'Ẩ', 'Ẫ', 'ă', 'ặ', 'ắ', 'ằ', 'ẳ', 'ẵ', 'ẫ', 'Ă', 'Ắ', 'Ằ', 'Ẳ', 'Ẵ', 'Ặ', 'Ẵ', 'ê', 'ẹ', 'é', 'è', 'ẻ', 'ẽ', 'Ê', 'Ẹ', 'É', 'È', 'Ẻ', 'Ẽ', 'ế', 'ề', 'ể', 'ễ', 'ệ', 'Ế', 'Ề', 'Ể', 'Ễ', 'Ệ', 'ọ', 'ộ', 'ổ', 'ỗ', 'ố', 'ồ', 'Ọ', 'Ộ', 'Ổ', 'Ỗ', 'Ố', 'Ồ', 'Ô', 'ô', 'ó', 'ò', 'ỏ', 'õ', 'Ó', 'Ò', 'Ỏ', 'Õ', 'ơ', 'ợ', 'ớ', 'ờ', 'ở', 'ỡ', 'Ơ', 'Ợ', 'Ớ', 'Ờ', 'Ở', 'Ỡ', 'ụ', 'ư', 'ứ', 'ừ', 'ử', 'ữ', 'ự', 'Ụ', 'Ư', 'Ứ', 'Ừ', 'Ử', 'Ữ', 'Ự', 'ú', 'ù', 'ủ', 'ũ', 'Ú', 'Ù', 'Ủ', 'Ũ', 'ị', 'í', 'ì', 'ỉ', 'ĩ', 'Ị', 'Í', 'Ì', 'Ỉ', 'Ĩ', 'ỵ', 'ý', 'ỳ', 'ỷ', 'ỹ', 'Ỵ', 'Ý', 'Ỳ', 'Ỷ', 'Ỹ', 'đ', 'Đ'
];

// prettier-ignore
let arrCharEnd = [
  'a', 'a', 'a', 'a', 'a', 'A', 'A', 'A', 'A', 'A', 'a', 'a', 'a', 'a', 'a', 'a', 'A', 'A', 'A', 'A', 'A', 'A', 'a', 'a', 'a', 'a', 'a', 'a', 'a', 'A', 'A', 'A', 'A', 'A', 'A', 'A', 'e', 'e', 'e', 'e', 'e', 'e', 'E', 'E', 'E', 'E', 'E', 'E', 'e', 'e', 'e', 'e', 'e', 'E', 'E', 'E', 'E', 'E', 'o', 'o', 'o', 'o', 'o', 'o', 'O', 'O', 'O', 'O', 'O', 'O', 'O', 'o', 'o', 'o', 'o', 'o', 'O', 'O', 'O', 'O', 'o', 'o', 'o', 'o', 'o', 'o', 'O', 'O', 'O\'', 'O', 'O', 'O', 'u', 'u', 'u', 'u', 'u', 'u', 'u', 'U', 'U', 'U', 'U', 'U', 'U', 'U', 'u', 'u', 'u', 'u', 'U', 'U', 'U', 'U', 'i', 'i', 'i', 'i', 'i', 'I', 'I', 'I', 'I', 'I', 'y', 'y', 'y', 'y', 'y', 'Y', 'Y', 'Y', 'Y', 'Y', 'd', 'D'
];

// prettier-ignore
let arrCharnonAllowed = [
  '©', '®', 'Æ', 'Ç', 'Å', 'Ç', '๏', '๏̯͡๏', 'Î', 'Ø', 'Û', 'Þ', 'ß', 'å', '', '¼', 'æ', 'ð', 'ñ', 'ø', 'û', '!', 'ñ', '[', '"', '$', '%', '\'', '(', ')', '♥', '(', '+', '*', '/', '\\', ',', ':', '¯', '', '+', ';', '<', '>', '=', '?', '@', '`', '¶', '[', ']', '^', '~', '`', '|', '', '_', '?', '*', '{', '}', '€', '�', 'ƒ', '„', '', '…', '‚', '†', '‡', 'ˆ', '‰', 'ø', '´', 'Š', '‹', 'Œ', '�', 'Ž', '�', 'ॐ', '۩', '�', '‘', '’', '“', '”', '•', '۞', '๏', '—', '˜', '™', 'š', '›', 'œ', '�', 'ž', 'Ÿ', '¡', '¢', '£', '¤', '¥', '¦', '§', '¨', '«', '¬', '¯', '°', '±', '²', '³', '´', 'µ', '¶', '¸', '¹', 'º', '»', '¼', '¾', '¿', 'Å', 'Æ', 'Ç', '?', '×', 'Ø', 'Û', 'Þ', 'ß', 'å', 'æ', 'ç', 'ï', 'ð', 'ñ', '÷', 'ø', 'ÿ', 'þ', 'û', '½', '☺', '☻', '♥', '♦', '♣', '♠', '•', '░', '◘', '○', '◙', '♂', '♀', '♪', '♫', '☼', '►', '◄', '↕', '‼', '¶', '§', '▬', '↨', '↑', '↓', '←', '←', '↔', '▲', '▼', '⌂', '¢', '→', '¥', 'ƒ', 'ª', 'º', '▒', '▓', '│', '┤', '╡', '╢', '╖', '╕', '╣', '║', '╗', '╝', '╜', '╛', '┐', '└', '┴', '┬', '├', '─', '┼', '╞', '╟', '╚', '╔', '╩', '╦', '╠', '═', '╬', '╧', '╨', '╤', '╥', '╙', '╘', '╒', '╓', '╫', '╪', '┘', '┌', '█', '▄', '▌', '▐', '▀', 'α', 'Γ', 'π', 'Σ', 'σ', 'µ', 'τ', 'Φ', 'Θ', 'Ω', 'δ', '∞', 'φ', 'ε', '∩', '≡', '±', '≥', '≤', '⌠', '⌡', '≈', '°', '∙', '·', '√', 'ⁿ', '²', '■', '¾', '×', 'Ø', 'Þ', 'ð', 'ღ', 'ஐ', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '•', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '•', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'Ƹ', 'Ӝ', 'Ʒ', '★', '●', '♡', 'ஜ', 'ܨ'
];

/**
 * Get slug US,DE from text
 * @param {*} strText
 */
export function getSlug(strText, intMaxLength = 500, strSeparator = '-') {
  strSlugResult = '';
  strText = str_replace(arrCharFrom, arrCharEnd, strText);
  strSlugResult = str_replace(arrCharnonAllowed, '', strText);
  strSlugResult = removeDiacritics(strSlugResult); // like `iconv('UTF-8', 'ASCII//TRANSLIT//IGNORE', $finalString);` in PHP
  strSlugResult = strSlugResult.replace(/[^a-zA-Z0-9/_|+ -]/g, '');
  strSlugResult = strSlugResult.toLowerCase();
  strSlugResult = strSlugResult.substr(0, intMaxLength);
  strSlugResult = strSlugResult.trim();
  strSlugResult = strSlugResult.replace(/[/_|+ -]+/g, strSeparator);
  return strSlugResult;
}

// ===================================
// Get slug Jp
// ===================================
// prettier-ignore
let arrLowerJav = {
  'à': 'a', 'ô': 'o', 'ď': 'd', 'ḟ': 'f', 'ë': 'e', 'š': 's', 'ơ': 'o',
  'ß': 'ss', 'ă': 'a', 'ř': 'r', 'ț': 't', 'ň': 'n', 'ā': 'a', 'ķ': 'k',
  'ŝ': 's', 'ỳ': 'y', 'ņ': 'n', 'ĺ': 'l', 'ħ': 'h', 'ṗ': 'p', 'ó': 'o',
  'ú': 'u', 'ě': 'e', 'é': 'e', 'ç': 'c', 'ẁ': 'w', 'ċ': 'c', 'õ': 'o',
  'ṡ': 's', 'ø': 'o', 'ģ': 'g', 'ŧ': 't', 'ș': 's', 'ė': 'e', 'ĉ': 'c',
  'ś': 's', 'î': 'i', 'ű': 'u', 'ć': 'c', 'ę': 'e', 'ŵ': 'w', 'ṫ': 't',
  'ū': 'u', 'č': 'c', 'ö': 'o', 'è': 'e', 'ŷ': 'y', 'ą': 'a', 'ł': 'l',
  'ų': 'u', 'ů': 'u', 'ş': 's', 'ğ': 'g', 'ļ': 'l', 'ƒ': 'f', 'ž': 'z',
  'ẃ': 'w', 'ḃ': 'b', 'å': 'a', 'ì': 'i', 'ï': 'i', 'ḋ': 'd', 'ť': 't',
  'ŗ': 'r', 'ä': 'a', 'í': 'i', 'ŕ': 'r', 'ê': 'e', 'ü': 'u', 'ò': 'o',
  'ē': 'e', 'ñ': 'n', 'ń': 'n', 'ĥ': 'h', 'ĝ': 'g', 'đ': 'd', 'ĵ': 'j',
  'ÿ': 'y', 'ũ': 'u', 'ŭ': 'u', 'ư': 'u', 'ţ': 't', 'ý': 'y', 'ő': 'o',
  'â': 'a', 'ľ': 'l', 'ẅ': 'w', 'ż': 'z', 'ī': 'i', 'ã': 'a', 'ġ': 'g',
  'ṁ': 'm', 'ō': 'o', 'ĩ': 'i', 'ù': 'u', 'į': 'i', 'ź': 'z', 'á': 'a',
  'û': 'u', 'þ': 'th', 'ð': 'dh', 'æ': 'ae', 'µ': 'u', 'ĕ': 'e', 'ı': 'i',
};
// prettier-ignore
let arrCharnonAllowedJav = [
  '©', '®', 'Æ', 'Ç', 'Å', 'Ç', '๏', '๏̯͡๏', 'Î', 'Ø', 'Û', 'Þ', 'ß', 'å', '', '¼', 'æ', 'ð', 'ñ', 'ø', 'û', '!', 'ñ', '[', '"', '$', '%', '\'', '(', ')', '♥', '(', '+', '*', '/', '\\', ',', ':', '¯', '', '+', ';', '<', '>', '=', '?', '@', '`', '¶', '[', ']', '^', '~', '`', '|', '', '_', '?', '*', '{', '}', '€', '�', 'ƒ', '„', '', '…', '‚', '†', '‡', 'ˆ', '‰', 'ø', '´', 'Š', '‹', 'Œ', '�', 'Ž', '�', 'ॐ', '۩', '�', '‘', '’', '“', '”', '•', '۞', '๏', '—', '˜', '™', 'š', '›', 'œ', '�', 'ž', 'Ÿ', '¡', '¢', '£', '¤', '¥', '¦', '§', '¨', '«', '¬', '¯', '°', '±', '²', '³', '´', 'µ', '¶', '¸', '¹', 'º', '»', '¼', '¾', '¿', 'Å', 'Æ', 'Ç', '?', '×', 'Ø', 'Û', 'Þ', 'ß', 'å', 'æ', 'ç', 'ï', 'ð', 'ñ', '÷', 'ø', 'ÿ', 'þ', 'û', '½', '☺', '☻', '♥', '♦', '♣', '♠', '•', '░', '◘', '○', '◙', '♂', '♀', '♪', '♫', '☼', '►', '◄', '↕', '‼', '¶', '§', '▬', '↨', '↑', '↓', '←', '←', '↔', '▲', '▼', '⌂', '¢', '→', '¥', 'ƒ', 'ª', 'º', '▒', '▓', '│', '┤', '╡', '╢', '╖', '╕', '╣', '║', '╗', '╝', '╜', '╛', '┐', '└', '┴', '┬', '├', '─', '┼', '╞', '╟', '╚', '╔', '╩', '╦', '╠', '═', '╬', '╧', '╨', '╤', '╥', '╙', '╘', '╒', '╓', '╫', '╪', '┘', '┌', '█', '▄', '▌', '▐', '▀', 'α', 'Γ', 'π', 'Σ', 'σ', 'µ', 'τ', 'Φ', 'Θ', 'Ω', 'δ', '∞', 'φ', 'ε', '∩', '≡', '±', '≥', '≤', '⌠', '⌡', '≈', '°', '∙', '·', '√', 'ⁿ', '²', '■', '¾', '×', 'Ø', 'Þ', 'ð', 'ღ', 'ஐ', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '•', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '•', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'Ƹ', 'Ӝ', 'Ʒ', '★', '●', '♡', 'ஜ', 'ܨ'
];

/**
 * Get slug Jav from text
 * @param {*} strText
 */
export function getSlugJp(strText, intMaxLength = 500, strSeparator = '-') {
  strSlugResult = '';
  strSlugResult = str_replace(array_keys(arrLowerJav), array_values(arrLowerJav), strText);
  strSlugResult = str_replace(arrCharnonAllowedJav, '', strText);
  strSlugResult = strSlugResult.replace(/[^一-龠ぁ-ゔァ-ヴーａ-ｚＡ-Ｚ０-９a-zA-Z0-9々〆〤.+ -]|^\s+|\s+$/u, '');
  strSlugResult = strSlugResult.toLowerCase();
  strSlugResult = strSlugResult.substr(0, intMaxLength);
  strSlugResult = strSlugResult.trim();
  strSlugResult = strSlugResult.replace(/[/_|+ -]+/g, strSeparator);
  return strSlugResult;
}
